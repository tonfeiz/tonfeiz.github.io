<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.0 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="zh" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Arts Weekone Twelve Factor(一) | Tonfeiz’s Blog</title>
<meta name="description" content="Twelve-Factor指的是构建Saas的应用程序应当满足的12个特性。">



<meta property="og:type" content="article">
<meta property="og:locale" content="zh">
<meta property="og:site_name" content="Tonfeiz's Blog">
<meta property="og:title" content="Arts Weekone Twelve Factor(一)">
<meta property="og:url" content="http://localhost:4000/ARTS-WeekOne-Twelve-Factor(%E4%B8%80)/">


  <meta property="og:description" content="Twelve-Factor指的是构建Saas的应用程序应当满足的12个特性。">







  <meta property="article:published_time" content="2019-04-11T00:00:00+08:00">





  

  


<link rel="canonical" href="http://localhost:4000/ARTS-WeekOne-Twelve-Factor(%E4%B8%80)/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Tonfeiz",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<!--<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Tonfeiz's Blog Feed"> -->

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--posts">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">Tonfeiz's Blog</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/index.html" >Home</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">切换菜单</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/bio_photo.jpeg" alt="Tonfeiz" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Tonfeiz</h3>
    
    
      <p class="author__bio" itemprop="description">
        0 errors, 0 warnings
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">China</span>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">Arts Weekone Twelve Factor(一)</h1>
    
    <p>Twelve-Factor指的是构建Saas的应用程序应当满足的12个特性。</p>

<p>这些应用程序具备的特点包括：</p>
<ul>
  <li>使用声明式方法(declarative formats)来自动化设置，以此最小化新的成员加入工程的时间和花费</li>
  <li>与底层的操作系统之间有明确的协议，以此最大化不同执行环境之间的可移植性</li>
  <li>适合于部署在现代云平台上，避免了服务器和系统管理员的需要</li>
  <li>最小化开发环境(development)和生产环境(production)之间的分歧，为了最大化灵活性使用持续部署</li>
  <li>能够在不显著改变工具、架构或者开发实践的基础上自由扩展</li>
</ul>

<p>上面有一些名词是我暂时还不太理解的，这里做个简单的解释。</p>
<ul>
  <li>声明式方法：倾向于直接告诉计算机做什么，而不是告诉计算机怎么做的方法。具体可见<a href="https://en.wikipedia.org/wiki/Declarative_programming">declarative programming</a></li>
  <li>持续部署：和持续部署相关的概念还有持续集成和持续交付。持续集成强调开发人员提交了新代码之后，立刻进行构建、（单元）测试。根据测试结果，我们可以确定新代码和原有代码能否正确地集成在一起。持续交付在持续集成的基础上，将集成后的代码部署到更贴近真实运行环境的「类生产环境」（production-like environments）中。比如，我们完成单元测试后，可以把代码部署到连接数据库的 Staging 环境中更多的测试。如果代码没有问题，可以继续手动部署到生产环境中。持续部署则是在持续交付的基础上，把部署到生产环境的过程自动化。(引自知乎yumminhuang)</li>
  <li>生产环境、开发环境：软件应用开发的几个环境包括：开发环境(development)，集成环境(integration)、测试环境(testing)、QA验证、模拟环境(staging)、生产环境(production)</li>
</ul>

<p>本是打算一次性把这12个特性都叙述一遍，但发现其中涉及到许多自己不知道的东西，因此决定还是分批来，本周先仔细看3个特性。</p>

<h2 id="一基准代码codebase">一、基准代码(codebase)</h2>
<p>这一特性用一句话说就是，只有一个用版本控制系统跟踪的代码库，但可以有许多部署(deploy)</p>

<p>在中心化的版本管理系统中，一个<em>codebase</em>就是单个的代码库。在去中心化的版本管理系统中，一个<em>codebase</em>就是共享一个根提交(root commit)的代码库</p>

<p>需要注意的是，在<em>codebase</em>和app之间永远是一对一的关系，如果有多个<em>codebase</em>，那就不是一个app，而是一个分布式系统，其中的每个组件都应当是一个满足twelve-factor的app。</p>

<p>然而，一个app可以有多个部署。例如在生产环境中的部署，在每个开发环境上的部署等。</p>

<p>不同部署的<em>codebase</em>是相同的，但是每个活跃的部署可以是不同的版本。</p>

<h2 id="二依赖">二、依赖</h2>
<p>这一特性用一句话说就是，显示的声明依赖并隔离它们</p>

<p>这一章读的还不太懂，可能是自身还缺乏关于微服务方面的知识的原因。</p>

<p>一个满足这一特性的app绝不会依赖于隐式的系统级别的库。它会使用依赖清单来显式声明自己所依赖的所有依赖项，并且会在执行期间使用依赖隔离工具来防止外界系统的隐式依赖泄漏<strong>进来</strong>(leak in)。对Ruby来说，依赖清单就是<code class="highlighter-rouge">Gemfile</code>，依赖隔离工具就是<code class="highlighter-rouge">bundle exec</code>。对Python来说，依赖清单就是<code class="highlighter-rouge">pip</code>，依赖隔离工具就是<code class="highlighter-rouge">virtualenv</code>。</p>

<p>这么做的一个优势就是对于新来的开发者来说，他只需要安装语言运行时环境以及依赖管理工具就可以进行app的开发。</p>

<p>twelve-factor app也不会隐式的依赖任何系统工具，即便这些工具在大部分操作系统上都存在，例如<code class="highlighter-rouge">curl</code>。</p>

<h2 id="三配置">三、配置</h2>
<p>将配置存在环境中</p>

<p>一个app的配置是在不同的部署中不同的东西。有些app将这些配置直接硬编码到代码中，这是违反twelve-factor的。配置应该从代码中严格的分离开来。当然对于内在的配置，即在不同部署中相同的配置，可以直接硬编码。</p>

<p>一种配置方法是使用配置文件。配置文件不应当被放入版本控制系统中，但这一点容易被忽略，而且大多配置文件往往基于特定的语言或是框架。</p>

<p>twelve-factor app将配置存在环境变量中。注意，使用组合的环境变量会使app失去可扩展性(组合的环境变量存疑)，最好还是将每个环境变量单独使用。</p>


<!--<ul class="taxonomy__index">
  
  
    <li>
      <a href="#2019">
        <strong>2019</strong> <span class="taxonomy__count">7</span>
      </a>
    </li>
  
</ul> -->

<!--

  <section id="2019" class="taxonomy__section">
    <h2 class="archive__subtitle">2019</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ARTS-vim%E8%BF%9B%E9%98%B6/" rel="permalink">Arts Vim进阶
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  少于 1 分钟读完
</p>
    
    <p class="archive__item-excerpt" itemprop="description">上周开了vim的坑，因此决心干脆尽量把vim的大部分常用内容都记录下来，便于以后翻阅。

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ARTS-WeekTwo-Twelve-Factor(%E4%BA%8C)/" rel="permalink">Arts Weektwo Twelve Factor(二)
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  少于 1 分钟读完
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Twelve Factor Part Two
Backing services
Build, release and run
processes

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ARTS-WeekTwo-Leetcode704-BinarySearch/" rel="permalink">Arts Weektwo Leetcode704 Binarysearch
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  少于 1 分钟读完
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Given a sorted (in ascending order) integer array nums of n elements and a target value, write a function to search target in nums. If target exists, then re...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ARTS-WeekOne-vimtutor%E6%80%BB%E7%BB%93/" rel="permalink">Arts Weekone Vimtutor总结
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  少于 1 分钟读完
</p>
    
    <p class="archive__item-excerpt" itemprop="description">虽然一直在使用vim编辑器，但其实一直没有练习过。借着ARTS中T的名头，就稍微学习一下vimtutor并将其中的总结放在这。

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" rel="permalink">搭建个人博客
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  少于 1 分钟读完
</p>
    
    <p class="archive__item-excerpt" itemprop="description">关于写博客，其实早就想写了。写博客的好处也从各种渠道都听说过，奈何实在是懒。现在由于看到了ARTS，觉得挺有用的，也想养成长期主动学习的习惯，因此就把博客搞起来，作为这个计划的集合地，当然其它想写的时候也会随便写一些文章。

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ARTS-WeekOne-Twelve-Factor(%E4%B8%80)/" rel="permalink">Arts Weekone Twelve Factor(一)
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  少于 1 分钟读完
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Twelve-Factor指的是构建Saas的应用程序应当满足的12个特性。

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ARTS-WeekOne-Leetcode941/" rel="permalink">Arts Weekone Leetcode941
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  少于 1 分钟读完
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Given an array A of integers, return true if and only if it is a valid mountain array.

</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">返回顶部 &uarr;</a>
  </section>
  -->

  </div>
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><input type="search" id="search" aria-placeholder="输入您要搜索的关键词..." class="search-input" tabindex="-1" placeholder="输入您要搜索的关键词..." />
    <div id="results" class="results"></div></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong></strong></li>
    

    

    <!--<li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li> -->
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Tonfeiz. 技术来自于 <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
