---
title: ProGit Part I
date: "2019-06-06"
summary: "git可说是目前最常用的版本控制系统之一，虽然之前也曾经学过，但并没有深刻理解其中的原理，因此就下载了Pro Git这本书，争取把git里里外外都搞个通透。" 
---
git可说是目前最常用的版本控制系统之一，虽然之前也曾经学过，但并没有深刻理解其中的原理，因此就下载了Pro Git这本书，争取把git里里外外都搞个通透。  

## 一、基本信息  
### 版本控制
在日常生活中，我们编辑文件。随着时间的流逝，文件数目越来越多，对文件的修改也越来越多。有时我们修改错误，想要找回上一个版本的东西。有时在不同的场合下，我们想换一个版本使用。这就诞生出了版本控制，即控制我们开发的东西的不同版本，并且具备回退等能力。  

通常由三种版本控制系统：  
* 本地控制，即自己手动通过文件名等手段标志出版本信息  
* 中心化版本控制，文件存在一个中心服务器，任何想要文件的人通过服务器获取最新文件并编辑  
* 分布式版本控制，每个机器都把文件以及版本信息复制下来，这样当一个服务器失效，任何一台机器都可顶替服务器的位置  

### Git的一些基本概念  
#### 快照，而不是差别  
其他的VCS大多把一个版本一个版本的更迭视为对文件的修改，即他们存下文件，而以后的版本是对文件作出修改。Git则把每个版本视为对当前文件的一个快照。在git中，每次commit或是保存当前工程的状态，git都会记录当前你的所有文件看起来是怎么样的并且保存一个到该快照的引用。对于未修改的文件，git则会有到上一个版本该文件的引用，而不重新保存。  

#### 几乎所有操作都是本地的
由于git在本地电脑上保留了所有的版本控制信息，因此提交等操作不需要依赖于服务器，只需在本地进行即可。其他的VCS在提交、浏览过去版本信息等操作中往往需要和中心服务器取得联络，这就要求必须由互联网，且造成了网络通信的开销。  

#### 三个状态
git中有三个区域：
* 工作区：即放置工作文件的位置，是工程的一个签出版本  
* 暂存区：是包含在Git目录中的一个文件，其中存储了将放入下一个commit中的信息  
* Git目录区：是Git放置元数据和对象数据库的地方  

由此引入了三种状态，在工作区中修改但还没加入暂存区的状态是*modified*，在暂存区中但还没加入Git目录区(即还没commit)的状态是*staged*,在Git目录区中的状态是*commited*

### 初次设置
Git有一个叫做`git config`的工具能设置那些控制Git操作的变量。这些变量存在三个不同的地方：  
* `/etc/config`:包含应用到系统中所有人的值。如果给`git config`传递`--system`选项，则它会从这个文件中读写  
* `~/.gitconfig`或`~/.config/git/config`:该值影响的是当前用户。可以传递`--global`选项来让Git从中读写。  
* `config`文件：该文件在Git目录中(`.git/config`)，影响的是当前的仓库。通过`--local`选项即可让Git从中读写  

每个层级的值都会覆盖上层的值  

#### 认证身份  
首次安装Git后需要配置用户的名字和邮箱，如下所示：  
```
$ git config --global user.name "${USER_NAME}"  
$ git config --global user.email ${USER_EMAIL}
```

